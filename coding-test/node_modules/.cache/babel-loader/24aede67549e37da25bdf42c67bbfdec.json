{"ast":null,"code":"import _toPath from 'lodash-es/toPath';\n\nvar createDeleteInWithCleanUp = function createDeleteInWithCleanUp(_ref) {\n  var deepEqual = _ref.deepEqual,\n      empty = _ref.empty,\n      getIn = _ref.getIn,\n      deleteIn = _ref.deleteIn,\n      setIn = _ref.setIn;\n\n  var deleteInWithCleanUp = function deleteInWithCleanUp(state, path) {\n    var result = state;\n\n    try {\n      if (path[path.length - 1] === ']') {\n        // array path\n        var pathTokens = _toPath(path);\n\n        pathTokens.pop();\n        var parent = getIn(state, pathTokens.join('.'));\n        return parent ? setIn(state, path, undefined) : state;\n      }\n\n      result = deleteIn(state, path);\n      var dotIndex = path.lastIndexOf('.');\n\n      if (dotIndex > 0) {\n        var parentPath = path.substring(0, dotIndex);\n\n        if (parentPath[parentPath.length - 1] !== ']') {\n          var _parent = getIn(result, parentPath);\n\n          if (deepEqual(_parent, empty)) {\n            return deleteInWithCleanUp(result, parentPath);\n          }\n        }\n      }\n    } catch (err) {\n      console.log('[RF ERR]', err);\n    }\n\n    return result;\n  };\n\n  return deleteInWithCleanUp;\n};\n\nexport default createDeleteInWithCleanUp;","map":{"version":3,"sources":["C:/Users/Naveen/Desktop/Final/FEEngineer_Assignment/coding-test/node_modules/redux-form-immutable/es/deleteInWithCleanUp.js"],"names":["_toPath","createDeleteInWithCleanUp","_ref","deepEqual","empty","getIn","deleteIn","setIn","deleteInWithCleanUp","state","path","result","length","pathTokens","pop","parent","join","undefined","dotIndex","lastIndexOf","parentPath","substring","_parent","err","console","log"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,kBAApB;;AAGA,IAAIC,yBAAyB,GAAG,SAASA,yBAAT,CAAmCC,IAAnC,EAAyC;AACvE,MAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;AAAA,MACIC,KAAK,GAAGF,IAAI,CAACE,KADjB;AAAA,MAEIC,KAAK,GAAGH,IAAI,CAACG,KAFjB;AAAA,MAGIC,QAAQ,GAAGJ,IAAI,CAACI,QAHpB;AAAA,MAIIC,KAAK,GAAGL,IAAI,CAACK,KAJjB;;AAOA,MAAIC,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,KAA7B,EAAoCC,IAApC,EAA0C;AAClE,QAAIC,MAAM,GAAGF,KAAb;;AACA,QAAI;AACF,UAAIC,IAAI,CAACA,IAAI,CAACE,MAAL,GAAc,CAAf,CAAJ,KAA0B,GAA9B,EAAmC;AACjC;AACA,YAAIC,UAAU,GAAGb,OAAO,CAACU,IAAD,CAAxB;;AACAG,QAAAA,UAAU,CAACC,GAAX;AACA,YAAIC,MAAM,GAAGV,KAAK,CAACI,KAAD,EAAQI,UAAU,CAACG,IAAX,CAAgB,GAAhB,CAAR,CAAlB;AACA,eAAOD,MAAM,GAAGR,KAAK,CAACE,KAAD,EAAQC,IAAR,EAAcO,SAAd,CAAR,GAAmCR,KAAhD;AACD;;AACDE,MAAAA,MAAM,GAAGL,QAAQ,CAACG,KAAD,EAAQC,IAAR,CAAjB;AACA,UAAIQ,QAAQ,GAAGR,IAAI,CAACS,WAAL,CAAiB,GAAjB,CAAf;;AACA,UAAID,QAAQ,GAAG,CAAf,EAAkB;AAChB,YAAIE,UAAU,GAAGV,IAAI,CAACW,SAAL,CAAe,CAAf,EAAkBH,QAAlB,CAAjB;;AACA,YAAIE,UAAU,CAACA,UAAU,CAACR,MAAX,GAAoB,CAArB,CAAV,KAAsC,GAA1C,EAA+C;AAC7C,cAAIU,OAAO,GAAGjB,KAAK,CAACM,MAAD,EAASS,UAAT,CAAnB;;AACA,cAAIjB,SAAS,CAACmB,OAAD,EAAUlB,KAAV,CAAb,EAA+B;AAC7B,mBAAOI,mBAAmB,CAACG,MAAD,EAASS,UAAT,CAA1B;AACD;AACF;AACF;AACF,KAnBD,CAmBE,OAAOG,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,GAAxB;AACD;;AACD,WAAOZ,MAAP;AACD,GAzBD;;AA2BA,SAAOH,mBAAP;AACD,CApCD;;AAsCA,eAAeP,yBAAf","sourcesContent":["import _toPath from 'lodash-es/toPath';\n\n\nvar createDeleteInWithCleanUp = function createDeleteInWithCleanUp(_ref) {\n  var deepEqual = _ref.deepEqual,\n      empty = _ref.empty,\n      getIn = _ref.getIn,\n      deleteIn = _ref.deleteIn,\n      setIn = _ref.setIn;\n\n\n  var deleteInWithCleanUp = function deleteInWithCleanUp(state, path) {\n    var result = state;\n    try {\n      if (path[path.length - 1] === ']') {\n        // array path\n        var pathTokens = _toPath(path);\n        pathTokens.pop();\n        var parent = getIn(state, pathTokens.join('.'));\n        return parent ? setIn(state, path, undefined) : state;\n      }\n      result = deleteIn(state, path);\n      var dotIndex = path.lastIndexOf('.');\n      if (dotIndex > 0) {\n        var parentPath = path.substring(0, dotIndex);\n        if (parentPath[parentPath.length - 1] !== ']') {\n          var _parent = getIn(result, parentPath);\n          if (deepEqual(_parent, empty)) {\n            return deleteInWithCleanUp(result, parentPath);\n          }\n        }\n      }\n    } catch (err) {\n      console.log('[RF ERR]', err);\n    }\n    return result;\n  };\n\n  return deleteInWithCleanUp;\n};\n\nexport default createDeleteInWithCleanUp;"]},"metadata":{},"sourceType":"module"}